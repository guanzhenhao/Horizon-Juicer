PROC S_DETECT_CPOSITION(REAL C_DETECTING,REAL C_DETECTED,REAL C_DETECT_FASTSPEED,REAL C_DETECT_SLOWSPEED,VAR REAL C_POSITION) DISPLOF
;;**********程序功能**********
;;检测C轴测量点
;;
;;
;;***************************

EXTERN S_PROBE_DETECTED_CMOVE(REAL,REAL)
EXTERN S_PROBE_DETECTING_CMOVE(REAL,REAL)

MSG("测量中...")
S_PROBE_DETECTING_CMOVE(C_DETECTING,C_DETECT_FASTSPEED)

IF $AC_MEA[1]==0;如果没挨上工件报警
    GOTOF RET
ENDIF

S_PROBE_DETECTED_CMOVE(C_DETECTED,C_DETECT_FASTSPEED);触碰后离开

S_PROBE_DETECTING_CMOVE(C_DETECTING,C_DETECT_SLOWSPEED)

C_POSITION=$AA_MM[C]

S_PROBE_DETECTED_CMOVE(C_DETECTED,C_DETECT_FASTSPEED);触碰后离开

RET

